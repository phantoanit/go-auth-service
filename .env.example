# =============================================================================
# Auth Service Environment Configuration
# Framework Version: 2.0
# =============================================================================

# APPLICATION
APP_NAME=auth-service
APP_ENV=local
APP_PORT=8081
APP_DEBUG=true

# =============================================================================
# YUGABYTEDB (ACID Database) - Primary Transactional Storage
# Shared Dev Infrastructure: 192.168.1.207:30433
# =============================================================================
YUGABYTE_HOST=192.168.1.207
YUGABYTE_PORT=30433
YUGABYTE_DATABASE=vhv_saas
YUGABYTE_USER=vhv_saas
YUGABYTE_PASSWORD=yugabyteDBVHV2627
YUGABYTE_SSLMODE=require
YUGABYTE_SCHEMA=core
YUGABYTE_MAX_OPEN_CONNS=100
YUGABYTE_MAX_IDLE_CONNS=10
YUGABYTE_CONN_MAX_LIFETIME=3600

# =============================================================================
# MONGODB (Flexible Schema) - Tenant Configs & Dynamic Data
# Shared Dev Infrastructure: 192.168.1.207:27017
# =============================================================================
MONGODB_URI=mongodb://admin:password@192.168.1.207:27017/vhv_saas?authSource=admin
MONGODB_DATABASE=vhv_saas
MONGODB_MAX_POOL_SIZE=100
MONGODB_MIN_POOL_SIZE=10

# =============================================================================
# CLICKHOUSE (OLAP) - Audit Logs & Analytics
# Shared Dev Infrastructure: 192.168.1.207:9000
# =============================================================================
CLICKHOUSE_HOST=192.168.1.207
CLICKHOUSE_PORT=9000
CLICKHOUSE_DATABASE=vhv_telemetry
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=your_clickhouse_password

# =============================================================================
# REDIS / DRAGONFLY (L2 Cache & Token Storage)
# Shared Dev Infrastructure: 192.168.1.207:30379
# =============================================================================
REDIS_HOST=192.168.1.207
REDIS_PORT=30379
REDIS_PASSWORD=VhvsaasDragonfly@#2627
REDIS_DB=0
REDIS_MAX_RETRIES=3
REDIS_ENABLED=true
REDIS_CLUSTER_MODE=false
REDIS_CLUSTER_ADDRS=

# Opaque Token Storage
REDIS_TOKEN_PREFIX=auth:token:
REDIS_TOKEN_TTL=900

# =============================================================================
# KAFKA (Event Streaming) - Async Events & CDC
# Shared Dev Infrastructure: 192.168.1.207:9092
# =============================================================================
KAFKA_BROKERS=192.168.1.207:9092
KAFKA_CONSUMER_GROUP=auth-service-group
KAFKA_TOPIC=auth-events
KAFKA_PARTITION=0
KAFKA_SASL_ENABLED=false
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=
KAFKA_TLS_ENABLED=false

# =============================================================================
# RABBITMQ (Message Queue) - Task Queue & Notifications
# Shared Dev Infrastructure: 192.168.1.207:5672
# =============================================================================
RABBITMQ_URL=amqp://admin:password@192.168.1.207:5672/
RABBITMQ_EXCHANGE=vhv.events
RABBITMQ_QUEUE=auth.tasks

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
JWT_SECRET=change_me_to_random_256bit_key_in_production
JWT_EXPIRATION=900
JWT_REFRESH_EXPIRATION=604800
JWT_ISSUER=vsystem-auth
JWT_ALGORITHM=HS256

# Internal JWT (Service-to-Service)
INTERNAL_JWT_SECRET=change_me_internal_jwt_secret
INTERNAL_JWT_EXPIRATION=300

# =============================================================================
# GRPC SERVICE
# =============================================================================
AUTH_SERVICE_PORT=50051
AUTH_SERVICE_HTTP_PORT=8081
GRPC_MAX_RECV_MSG_SIZE=4194304
GRPC_MAX_SEND_MSG_SIZE=4194304
GRPC_MAX_CONCURRENT_STREAMS=100

# =============================================================================
# MICROSERVICES ENDPOINTS (For Gateway & Inter-service Communication)
# =============================================================================
AUTH_SERVICE_GRPC_ADDR=localhost:50051
USER_SERVICE_GRPC_ADDR=localhost:50052
TENANT_SERVICE_GRPC_ADDR=localhost:50053
SYSTEM_CONFIG_SERVICE_GRPC_ADDR=localhost:50054
NOTIFICATION_SERVICE_GRPC_ADDR=localhost:50055

# =============================================================================
# OBSERVABILITY
# =============================================================================
LOG_LEVEL=debug
LOG_FORMAT=json
ENVIRONMENT=local
